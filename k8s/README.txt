Для создания кластера Kubernetes необходимо подготовить ноды (адреса, доступы, одинаковый пользователь с правами sudo) и балансировщик. 

После подготовки нод нужно заполнить файл k8s-vars.txt в соответствии с полученными данными.

Создаем балансировщик запуская файл make-balancer.sh. После создания балансировщика можно создавать кластер.

Чтобы создать кластер k8s в соответствии с настройками из файла k8s-vars.txt запускаем файл make-k8s.sh.
После создания кластера в файле $HOME/.kube/config.kick будет лежать конфиг для доступа к созданному кластеру.
Можно выполнить 'export KUBECONFIG=$KUBECONFIG:$HOME/.kube/config.kick' чтобы получить доступ к кластеру с помощью kubectl, или просто выбрать нужный кластер в Lens.
В процессе создания кластера в текущей папке со скриптами будут созданы файлы tmphosts и tokens. Удалять, изменять и переименовывать их не нужно, они пригодятся для последующего добавления в кластер новых нод.

Для добавления мастер-ноды в существующий кластер необходимо добавить запись о ноде в файл k8s-vars.txt.
После этого запустить make-balancer.sh для внесения изменений в конфигурацию балансировщика.
После этого запустить add_master.sh с параметрами IP-address и Hostname.
Например:      'add_master.sh 192.168.223.1 new-master1'

Для добавления воркер-ноды в существующий кластер необходимо запустить add_worker.sh с параметрами IP-address и Hostname.
Например:      'add_worker.sh 192.168.223.1 new-worker1'
После этого желательно добавить запись о ноде в файл k8s-vars.txt.
